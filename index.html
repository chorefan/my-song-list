<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Song List</title>
<style>
  body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; background-color: #f9f9f9; }
  .search-container { background: #fff; padding: 15px; border-radius: 8px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
  
  /* ã‚ã¿ã ãã˜æ¼”å‡ºã‚¨ãƒªã‚¢ */
  #amida-container { 
    display: none; /* æœ€åˆã¯éš ã—ã¦ãŠã */
    text-align: center; margin: 20px 0; padding: 20px; 
    background: #fff; border: 2px dashed #4CAF50; border-radius: 10px;
  }
  .amida-line { 
    width: 4px; height: 100px; background: #ddd; margin: 0 auto; position: relative; overflow: hidden;
  }
  .amida-ball { 
    width: 10px; height: 10px; background: #4CAF50; border-radius: 50%;
    position: absolute; left: -3px; top: -10px;
    transition: top 1.5s ease-in; /* ä¸‹ã«è½ã¡ã‚‹å‹•ã */
  }
  #result-display { font-size: 1.2rem; font-weight: bold; color: #2e7d32; margin-top: 10px; }

  table { width: 100%; border-collapse: collapse; background: white; }
  th, td { border: 1px solid #ddd; padding: 10px; }
  .btn-random { background: #4CAF50; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; font-size: 1rem; }
</style>
</head>
<body>

<h1>ğŸ¤ æ­Œãˆã‚‹æ›²ãƒªã‚¹ãƒˆ</h1>

<div class="search-container">
  <h2>æ›²ã‚’æ¢ã™</h2>
  <input id="songSearch" placeholder="æ›²å..." oninput="filterList()">
  <input id="artistSearch" placeholder="æ­Œæ‰‹å..." oninput="filterList()">
  <button class="btn-random" onclick="startAmida()">ğŸ² ã‚ã¿ã ãã˜ã§é¸æ›²ï¼</button>
</div>

<div id="amida-container">
  <p>é‹å‘½ã®é¸æ›²ä¸­...</p>
  <div class="amida-line">
    <div id="ball" class="amida-ball"></div>
  </div>
  <div id="result-display"></div>
</div>

<h2>æ›²ä¸€è¦§</h2>
<table id="songTable"></table>

<script>
const songs = [
  {title:"é’ã„çŠç‘šç¤", artist:"æ¾ç”°è–å­"},
  {title:"æ „å…‰ã®æ¶æ©‹", artist:"ã‚†ãš"},
  {title:"å¤œã«é§†ã‘ã‚‹", artist:"YOASOBI"},
  {title:"ä¸–ç•Œã«ä¸€ã¤ã ã‘ã®èŠ±", artist:"SMAP"},
  {title:"Pretender", artist:"Officialé«­ç”·dism"}
];

function buildSongTable(list) {
  const t = document.getElementById("songTable");
  t.innerHTML = "<tr><th>æ›²å</th><th>æ­Œæ‰‹</th></tr>";
  list.forEach(s => {
    t.innerHTML += `<tr><td>${s.title}</td><td>${s.artist}</td></tr>`;
  });
}

// ã‚ã¿ã ãã˜ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
function startAmida() {
  const container = document.getElementById("amida-container");
  const ball = document.getElementById("ball");
  const result = document.getElementById("result-display");
  
  // ãƒªã‚»ãƒƒãƒˆ
  container.style.display = "block";
  ball.style.top = "-10px";
  result.innerText = "";

  // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆ1.5ç§’ã‹ã‘ã¦ãƒœãƒ¼ãƒ«ãŒè½ã¡ã‚‹ï¼‰
  setTimeout(() => {
    ball.style.top = "100px";
  }, 100);

  // 1.6ç§’å¾Œã«çµæœè¡¨ç¤º
  setTimeout(() => {
    const s = songs[Math.floor(Math.random() * songs.length)];
    result.innerHTML = `âœ¨ æ±ºå®šï¼ âœ¨<br>${s.title} / ${s.artist}`;
  }, 1600);
}

function filterList() {
  const songQ = document.getElementById("songSearch").value.toLowerCase();
  const artistQ = document.getElementById("artistSearch").value.toLowerCase();
  const filtered = songs.filter(s => 
    s.title.toLowerCase().includes(songQ) && s.artist.toLowerCase().includes(artistQ)
  );
  buildSongTable(filtered);
}

buildSongTable(songs);
</script>

</body>
</html>
